import{_ as a,o as s,c as e,S as n}from"./chunks/framework.a76ee0a9.js";const h=JSON.parse('{"title":"如何使用 Celestia App 创建锁仓账户","description":"","frontmatter":{},"headers":[],"relativePath":"developers/celestia-app-vesting.md","filePath":"developers/celestia-app-vesting.md"}'),l={name:"developers/celestia-app-vesting.md"},t=n(`<h1 id="如何使用-celestia-app-创建锁仓账户" tabindex="-1">如何使用 Celestia App 创建锁仓账户<a class="header-anchor" href="#如何使用-celestia-app-创建锁仓账户" aria-label="Permalink to &quot;如何使用 Celestia App 创建锁仓账户&lt;!--create a vesting account--&gt;&quot;">​</a></h1><p>在本指南中，我们将学习如何使用 celestia-app 在本地开发网络和 Mocha 测试网络上创建锁仓账户。</p><p><strong>注意</strong>：本教程中的指令是用于创建<strong>连续锁仓账户</strong>（continuous vesting account）的，如果您想创建<strong>延迟锁仓账户</strong>（delayed vesting account），只需在锁仓交易中添加 --delayed 参数。</p><h2 id="本地开发网络" tabindex="-1">本地开发网络 <a class="header-anchor" href="#本地开发网络" aria-label="Permalink to &quot;本地开发网络&quot;">​</a></h2><p>首先，下载并安装 <a href="https://docs.celestia.org/nodes/celestia-app/" target="_blank" rel="noreferrer">Celestia App</a>，并选择您想要使用的<a href="https://docs.celestia.org/nodes/participate/" target="_blank" rel="noreferrer">网络和相应的版本</a>。</p><h3 id="设置本地开发网络" tabindex="-1">设置本地开发网络 <a class="header-anchor" href="#设置本地开发网络" aria-label="Permalink to &quot;设置本地开发网络&quot;">​</a></h3><h4 id="运行本地开发网络" tabindex="-1">运行本地开发网络<a class="header-anchor" href="#运行本地开发网络" aria-label="Permalink to &quot;运行本地开发网络&lt;!--Run the devnet--&gt;&quot;">​</a></h4><p>进入 celestia-app 目录（<code>$HOME/celestia-app</code>），并运行单节点的开发网络</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">cd $HOME/celestia-app</span></span>
<span class="line"><span style="color:#A6ACCD;">./scripts/build-run-single-node.sh</span></span></code></pre></div><blockquote><p>译者注释：这个脚本将自动构建并运行单节点的开发网络。该网络是一个本地模拟的区块链网络环境，仅在您的计算机上运行，不需要连接到真实的区块链网络。它可以用于开发和测试 Celestia App 中的功能，包括创建钱包、执行交易、部署智能合约等。</p><p>运行单节点开发网络后，您可以使用 Celestia App 进行交互，并尝试在本地环境中开发和测试区块链应用程序。请注意，本地开发网络是一个隔离的环境，不会影响真实的区块链网络或其他开发者的工作。</p><p>在完成开发和测试后，您可以根据需要停止本地开发网络，并将您的应用程序部署到真实的区块链网络上。</p></blockquote><h4 id="保存-home-目录路径" tabindex="-1">保存 home 目录路径 <a class="header-anchor" href="#保存-home-目录路径" aria-label="Permalink to &quot;保存 home 目录路径&quot;">​</a></h4><p>在运行单节点开发网络脚本时，您会在输出中看到一个&quot;Home directory&quot;的路径，这个路径将是每次运行时都是唯一的：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">./scripts/build-run-single-node.sh</span></span>
<span class="line"><span style="color:#A6ACCD;">Home directory: /var/folders/_8/ljj6hspn0kn09qf9fy8kdyh40000gn/T/celestia_app_XXXXXXXXXXXXX.XV92a3qx</span></span>
<span class="line"><span style="color:#A6ACCD;">--&gt; Updating go.mod</span></span></code></pre></div><p>将路径设置为环境变量<code>CElESTIA_APP_HOME</code> ，并在接下来的开发网络部分中使用它:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">export CElESTIA_APP_HOME=/var/folders/_8/ljj6hspn0kn09qf9fy8kdyh40000gn/T/celestia_app_XXXXXXXXXXXXX.XV92a3qx</span></span></code></pre></div><p><strong>注意</strong>：这并不会替代 <code>celestia-appd</code> 安装时所生成的二进制文件，而是在 <code>$HOME/celestia-app/build</code> 目录下构建和运行一个新的 <code>celestia-appd</code> 实例</p><h4 id="检查本地开发网络的版本" tabindex="-1">检查本地开发网络的版本 <a class="header-anchor" href="#检查本地开发网络的版本" aria-label="Permalink to &quot;检查本地开发网络的版本&quot;">​</a></h4><p>如果您想检查本地开发网络的版本，可以执行以下步骤：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">cd $HOME/celestia-app/build</span></span>
<span class="line"><span style="color:#A6ACCD;">./celestia-appd version</span></span></code></pre></div><h4 id="接下来" tabindex="-1">接下来 <a class="header-anchor" href="#接下来" aria-label="Permalink to &quot;接下来&quot;">​</a></h4><p>恭喜！您现在在本地计算机上成功运行了一个私有开发网络（devnet）。这个开发网络由一个验证者（validator）组成，负责创建新的区块。这就是 Celestia 在您的计算机上的共识网络！用于运行验证者的密钥也保存在开发网络的临时目录中。</p><p>现在，您已经准备好在 devnet 上测试创建一个锁仓账户，在前往 Mocha 真实的测试网络之前进行测试。</p><h3 id="为本地开发网络设置一个锁仓账户" tabindex="-1">为本地开发网络设置一个锁仓账户 <a class="header-anchor" href="#为本地开发网络设置一个锁仓账户" aria-label="Permalink to &quot;为本地开发网络设置一个锁仓账户&quot;">​</a></h3><p>此时，您已经设置了一个密钥，但是为了创建一个锁仓账户，您还需要一个额外的密钥。</p><h4 id="创建新的密钥" tabindex="-1">创建新的密钥 <a class="header-anchor" href="#创建新的密钥" aria-label="Permalink to &quot;创建新的密钥&quot;">​</a></h4><p>首先，创建一个用于锁仓账户的新密钥：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">cd $HOME/celestia-app/build</span></span>
<span class="line"><span style="color:#A6ACCD;">./celestia-appd keys add vesting-key --home $CElESTIA_APP_HOME</span></span></code></pre></div><p>在输出中，您将看到有关您的密钥的地址、助记词以及更多详细信息：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">- address: celestia127fpaygehlsgjdknwvlr2mux7h5uvhkxktgkc5</span></span>
<span class="line"><span style="color:#A6ACCD;">  name: vesting-key</span></span>
<span class="line"><span style="color:#A6ACCD;">  pubkey: &#39;{&quot;@type&quot;:&quot;/cosmos.crypto.secp256k1.PubKey&quot;,&quot;key&quot;:&quot;A5JF/we+s5gFt6g944XbKVVYgQB9OY+U/l5dhZjLDczO&quot;}&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  type: local</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">**Important** write this mnemonic phrase in a safe place.</span></span>
<span class="line"><span style="color:#A6ACCD;">It is the only way to recover your account if you ever forget your password.</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">index enter egg broken ostrich duty bitter blind all car hollow coral youth early verify point void anger daring sausage decline net shove oil</span></span></code></pre></div><h4 id="查看所有密钥列表" tabindex="-1">查看所有密钥列表 <a class="header-anchor" href="#查看所有密钥列表" aria-label="Permalink to &quot;查看所有密钥列表&quot;">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">./celestia-appd keys list --home $CElESTIA_APP_HOME</span></span></code></pre></div><p>以下是输出：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">- address: celestia1adgkqcmzuxvg7x5avx8a8rjwpmxgzex3ztef6j</span></span>
<span class="line"><span style="color:#A6ACCD;">  name: validator</span></span>
<span class="line"><span style="color:#A6ACCD;">  pubkey: &#39;{&quot;@type&quot;:&quot;/cosmos.crypto.secp256k1.PubKey&quot;,&quot;key&quot;:&quot;Ahzu6yr9XMPIxLquhgBhj9xL3wIaOz6PE3CvML/oPQym&quot;}&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  type: local</span></span>
<span class="line"><span style="color:#A6ACCD;">- address: celestia127fpaygehlsgjdknwvlr2mux7h5uvhkxktgkc5</span></span>
<span class="line"><span style="color:#A6ACCD;">  name: vesting-key</span></span>
<span class="line"><span style="color:#A6ACCD;">  pubkey: &#39;{&quot;@type&quot;:&quot;/cosmos.crypto.secp256k1.PubKey&quot;,&quot;key&quot;:&quot;A5JF/we+s5gFt6g944XbKVVYgQB9OY+U/l5dhZjLDczO&quot;}&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  type: local</span></span></code></pre></div><h4 id="设置变量" tabindex="-1">设置变量 <a class="header-anchor" href="#设置变量" aria-label="Permalink to &quot;设置变量&quot;">​</a></h4><p>使用验证者地址作为 <code>FROM_ADDRESS</code>，将锁仓密钥作为 <code>TO_ADDRESS</code>：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">export FROM_ADDRESS=celestia1adgkqcmzuxvg7x5avx8a8rjwpmxgzex3ztef6j</span></span>
<span class="line"><span style="color:#A6ACCD;">export TO_ADDRESS=celestia127fpaygehlsgjdknwvlr2mux7h5uvhkxktgkc5</span></span></code></pre></div><blockquote><p>译者注释：请将 &lt;validator_address&gt; 替换为您的验证者地址，将 &lt;vesting_key&gt; 替换为您的锁仓密钥。设置了这两个变量后，您可以在后续的步骤中使用它们。</p></blockquote><h4 id="创建锁仓账户" tabindex="-1">创建锁仓账户 <a class="header-anchor" href="#创建锁仓账户" aria-label="Permalink to &quot;创建锁仓账户&quot;">​</a></h4><p>要创建一个锁仓账户（本地开发网络），请按以下步骤操作：</p><p><strong>注意</strong>：以下指令是用于创建连续锁仓账户的步骤。如果您想创建延迟锁仓账户，请使用 --delayed 标志。</p><p>例如，创建延迟锁仓账户的命令如下：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">./celestia-appd tx vesting create-vesting-account $TO_ADDRESS 100000utia 1686748051 --from $FROM_ADDRESS --gas auto --fees 100000utia --chain-id private --home $CElESTIA_APP_HOME --delayed</span></span></code></pre></div><p>或者您可以选择不使用 --delayed 标志来创建连续锁仓账户：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">./celestia-appd tx vesting create-vesting-account $TO_ADDRESS 100000utia 1686748051 --from $FROM_ADDRESS --gas auto --fees 100000utia --chain-id private --home $CElESTIA_APP_HOME</span></span></code></pre></div><p>在执行命令时，您将被要求选择 &quot;Y&quot; 以确认交易，选择 &quot;Y&quot; 即表示确认创建锁仓账户。</p><p>如果您希望使用 -y 标志运行命令，将会直接执行交易而无需手动输入 &quot;y&quot;：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">./celestia-appd tx vesting create-vesting-account $TO_ADDRESS 100000utia 1686748051 --from $FROM_ADDRESS --gas auto --fees 100000utia --chain-id private --home $CElESTIA_APP_HOME -y</span></span></code></pre></div><p>输出如下：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">gas estimate: 96112</span></span>
<span class="line"><span style="color:#A6ACCD;">auth_info:</span></span>
<span class="line"><span style="color:#A6ACCD;">  fee:</span></span>
<span class="line"><span style="color:#A6ACCD;">    amount:</span></span>
<span class="line"><span style="color:#A6ACCD;">    - amount: &quot;100000&quot; </span></span>
<span class="line"><span style="color:#A6ACCD;">      denom: utia</span></span>
<span class="line"><span style="color:#A6ACCD;">    gas_limit: &quot;96112&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    granter: &quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    payer: &quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  signer_infos: []</span></span>
<span class="line"><span style="color:#A6ACCD;">  tip: null</span></span>
<span class="line"><span style="color:#A6ACCD;">body:</span></span>
<span class="line"><span style="color:#A6ACCD;">  extension_options: []</span></span>
<span class="line"><span style="color:#A6ACCD;">  memo: &quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  messages:</span></span>
<span class="line"><span style="color:#A6ACCD;">  - &#39;@type&#39;: /cosmos.vesting.v1beta1.MsgCreateVestingAccount</span></span>
<span class="line"><span style="color:#A6ACCD;">    amount:</span></span>
<span class="line"><span style="color:#A6ACCD;">    - amount: &quot;100000&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">      denom: utia</span></span>
<span class="line"><span style="color:#A6ACCD;">    delayed: false</span></span>
<span class="line"><span style="color:#A6ACCD;">    end_time: &quot;1686748051&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    from_address: celestia1adgkqcmzuxvg7x5avx8a8rjwpmxgzex3ztef6j</span></span>
<span class="line"><span style="color:#A6ACCD;">    to_address: celestia127fpaygehlsgjdknwvlr2mux7h5uvhkxktgkc5</span></span>
<span class="line"><span style="color:#A6ACCD;">  non_critical_extension_options: []</span></span>
<span class="line"><span style="color:#A6ACCD;">  timeout_height: &quot;0&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">signatures: []</span></span>
<span class="line"><span style="color:#A6ACCD;">confirm transaction before signing and broadcasting [y/N]: y</span></span>
<span class="line"><span style="color:#A6ACCD;">code: 0</span></span>
<span class="line"><span style="color:#A6ACCD;">codespace: &quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">data: &quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">events: []</span></span>
<span class="line"><span style="color:#A6ACCD;">gas_used: &quot;0&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">gas_wanted: &quot;0&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">height: &quot;0&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">info: &quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">logs: []</span></span>
<span class="line"><span style="color:#A6ACCD;">raw_log: &#39;[]&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">timestamp: &quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">tx: null</span></span>
<span class="line"><span style="color:#A6ACCD;">txhash: 6093DF76DBA90F04FF63D197FC1569F04ED3DBE64081A0BBA9BAD4E69AA570D2</span></span></code></pre></div><h4 id="查询-devnet-中锁仓账户详情" tabindex="-1">查询 devnet 中锁仓账户详情 <a class="header-anchor" href="#查询-devnet-中锁仓账户详情" aria-label="Permalink to &quot;查询 devnet 中锁仓账户详情&quot;">​</a></h4><p>使用以下命令查询 <code>TO_ADDRESS</code> 账户的详情，确认账户已成功创建并且按预期运作：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">./celestia-appd query account $TO_ADDRESS --home $CElESTIA_APP_HOME</span></span></code></pre></div><p>在以下输出中，您可以注意到锁仓账户的类型是 <code>ContinuousVestingAccount</code>，即连续锁仓账户 ：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&#39;@type&#39;: /cosmos.vesting.v1beta1.ContinuousVestingAccount</span></span>
<span class="line"><span style="color:#A6ACCD;">base_vesting_account:</span></span>
<span class="line"><span style="color:#A6ACCD;">  base_account:</span></span>
<span class="line"><span style="color:#A6ACCD;">    account_number: &quot;7&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    address: celestia127fpaygehlsgjdknwvlr2mux7h5uvhkxktgkc5</span></span>
<span class="line"><span style="color:#A6ACCD;">    pub_key: null</span></span>
<span class="line"><span style="color:#A6ACCD;">    sequence: &quot;0&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  delegated_free: []</span></span>
<span class="line"><span style="color:#A6ACCD;">  delegated_vesting: []</span></span>
<span class="line"><span style="color:#A6ACCD;">  end_time: &quot;1686748051&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  original_vesting:</span></span>
<span class="line"><span style="color:#A6ACCD;">  - amount: &quot;100000&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    denom: utia</span></span>
<span class="line"><span style="color:#A6ACCD;">start_time: &quot;1687908352&quot;</span></span></code></pre></div><h4 id="查询-devnet-中基础账户详情" tabindex="-1">查询 devnet 中基础账户详情 <a class="header-anchor" href="#查询-devnet-中基础账户详情" aria-label="Permalink to &quot;查询 devnet 中基础账户详情&quot;">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">./celestia-appd query account $FROM_ADDRESS --home $CElESTIA_APP_HOME</span></span></code></pre></div><blockquote><p>译者注释：在这里，基础账户（base account）和锁仓账户（vesting account）是不同的账户。它们在Celestia App中代表不同的账户类型和功能。 基础账户（base account）是通常的普通账户，它持有可自由转移和使用的代币。这些代币没有被锁定，可以随时进行交易。 锁仓账户（vesting account）是一种特殊的账户，其中的代币被锁定一段时间，随着时间的推移逐步解锁。这种账户通常用于实现代币的线性释放，以便在一定的时间间隔内释放固定数量的代币。</p></blockquote><p>在以下输出中，您可以注意到账户的类型是 <code>BaseAccount</code>，即基础账户 ：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&#39;@type&#39;: /cosmos.auth.v1beta1.BaseAccount</span></span>
<span class="line"><span style="color:#A6ACCD;">account_number: &quot;0&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">address: celestia1adgkqcmzuxvg7x5avx8a8rjwpmxgzex3ztef6j</span></span>
<span class="line"><span style="color:#A6ACCD;">pub_key:</span></span>
<span class="line"><span style="color:#A6ACCD;">  &#39;@type&#39;: /cosmos.crypto.secp256k1.PubKey</span></span>
<span class="line"><span style="color:#A6ACCD;">  key: Ahzu6yr9XMPIxLquhgBhj9xL3wIaOz6PE3CvML/oPQym</span></span>
<span class="line"><span style="color:#A6ACCD;">sequence: &quot;2&quot;</span></span></code></pre></div><h4 id="询本地devnet中的账户余额" tabindex="-1">询本地devnet中的账户余额 <a class="header-anchor" href="#询本地devnet中的账户余额" aria-label="Permalink to &quot;询本地devnet中的账户余额&quot;">​</a></h4><p>您可以使用以下命令查询锁仓账户（vesting account）的余额：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">./celestia-appd query bank balances $TO_ADDRESS --home $CElESTIA_APP_HOME</span></span></code></pre></div><blockquote><p>译者注释：请确保将 $TO_ADDRESS 替换为您创建的锁仓账户的地址。执行上述命令后，您将获得锁仓账户的余额信息，包括锁定代币的数量和解锁时间。</p></blockquote><p>输出以下：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">balances:</span></span>
<span class="line"><span style="color:#A6ACCD;">- amount: &quot;100000&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  denom: utia</span></span>
<span class="line"><span style="color:#A6ACCD;">pagination:</span></span>
<span class="line"><span style="color:#A6ACCD;">  next_key: null</span></span>
<span class="line"><span style="color:#A6ACCD;">  total: &quot;0&quot;</span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">./celestia-appd query bank balances $TO_ADDRESS --home $CElESTIA_APP_HOME</span></span></code></pre></div><p>输出将显示验证者账户（validator）的剩余余额：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">balances:</span></span>
<span class="line"><span style="color:#A6ACCD;">- amount: &quot;999994999800000&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  denom: utia</span></span>
<span class="line"><span style="color:#A6ACCD;">pagination:</span></span>
<span class="line"><span style="color:#A6ACCD;">  next_key: null</span></span>
<span class="line"><span style="color:#A6ACCD;">  total: &quot;0&quot;</span></span></code></pre></div><p>恭喜！到这里，您已经在本地的devnet上创建了自己的锁仓账户。接下来，您可以学习如何在Mocha Testnet上创建锁仓账户。</p><h3 id="mocha" tabindex="-1">Mocha <a class="header-anchor" href="#mocha" aria-label="Permalink to &quot;Mocha&quot;">​</a></h3><p>在之前的教程部分中，我们学习了如何在本地 devnet 网络上上创建一个锁仓账户。而在本部分教程中，我们将介绍如何在 <a href="https://docs.celestia.org/nodes/mocha-testnet/" target="_blank" rel="noreferrer">Mocha Testnet</a> 上设置一个共识全节点，并创建一个锁仓账户。</p><p>首先，请确保您已经按照本页面上的说明，安装了适用于 Mocha Testnet 的<a href="https://docs.celestia.org/nodes/celestia-app/" target="_blank" rel="noreferrer">最新版本的 Celestia App</a>。</p><h4 id="创建钱包" tabindex="-1">创建钱包 <a class="header-anchor" href="#创建钱包" aria-label="Permalink to &quot;创建钱包&quot;">​</a></h4><p>设置密钥环后端，这样您就不需要为每个命令使用 <code>--home</code> 标签：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">celestia-appd config keyring-backend test</span></span></code></pre></div><p>添加一个新的全节点密钥和一个锁仓账户密钥：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">celestia-appd keys add origin &amp;&amp; celestia-appd keys add vesting</span></span></code></pre></div><p>列出所有密钥：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">celestia-appd keys list</span></span></code></pre></div><p>将您的密钥设置为变量：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">export FROM_ADDRESS=address_of_origin_account</span></span>
<span class="line"><span style="color:#A6ACCD;">export TO_ADDRESS=address_of_vesting_account</span></span></code></pre></div><blockquote><p>译者注释：通过这些步骤，您可以更方便地在Celestia App上操作和管理多个账户。</p></blockquote><h4 id="向你的账户储值" tabindex="-1">向你的账户储值 <a class="header-anchor" href="#向你的账户储值" aria-label="Permalink to &quot;向你的账户储值&quot;">​</a></h4><p>前往<a href="https://docs.celestia.org/nodes/mocha-testnet/#mocha-testnet-faucet" target="_blank" rel="noreferrer">水龙头（faucet）</a>，并为您的原始地址（origin address）提供资金。</p><h4 id="在-mocha-上创建一个锁仓账户" tabindex="-1">在 Mocha 上创建一个锁仓账户 <a class="header-anchor" href="#在-mocha-上创建一个锁仓账户" aria-label="Permalink to &quot;在 Mocha 上创建一个锁仓账户&quot;">​</a></h4><p>您需要一个用于发送交易的 <a href="https://docs.celestia.org/nodes/mocha-testnet/#rpc-endpoints" target="_blank" rel="noreferrer">RPC URL（允许用户与Celestia的节点进行交互）</a>，然后设置您的 RPC URL：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">export RPC_URL=https://rpc-mocha.pops.one:443</span></span></code></pre></div><p>在此，我们需要使用一个新标记（new flag），这不同于 devnet，即 RPC URL。</p><blockquote><p>译者注释：前文提到，我们设置了一个本地开发网络devnet（其实就是一个跑在本地的验证节点），并且使用了自己的验证者（validator）。但是，在 Mocha 上，我们不需要使用自己的验证者（validator），而是 <strong>可以选择</strong> 使用一个RPC URL，也即上文提到的 new flag，这点后文还会提到。</p></blockquote><p>我们还需要声明链ID为 <code>mocha</code>，同时可以通过查看 <code>vesting</code> 命令的帮助菜单，了解这些标记（flag）的更多信息：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">celestia-appd tx vesting --help</span></span></code></pre></div><p>以下是一个设置锁仓账户的示例：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">celestia-appd tx vesting create-vesting-account $TO_ADDRESS 100000utia 1686748051 --from $FROM_ADDRESS --gas 100000 --fees 100000utia --node $RPC_URL --chain-id mocha --delayed</span></span></code></pre></div><p>通过运行上述命令，将会在 Mocha测试网络 上创建一个锁仓账户，并在指定的时间点解锁代币。</p><h4 id="设置共识全节点或验证者-optional" tabindex="-1">设置共识全节点或验证者（Optional） <a class="header-anchor" href="#设置共识全节点或验证者-optional" aria-label="Permalink to &quot;设置共识全节点或验证者（Optional）&quot;">​</a></h4><p>运行共识全节点或验证者将使您无需使用RPC。</p><p>您可以为上一部分的教程设置一个 <a href="https://docs.celestia.org/nodes/full-consensus-node/" target="_blank" rel="noreferrer">验证者（validator）</a> 或 <a href="https://docs.celestia.org/nodes/validator-node/" target="_blank" rel="noreferrer">全节点（full node）</a> 。</p><blockquote><p>译者注释：上文不是提到，我们需要一个 RPC URL 吗？为什么这里不需要呢？注意⚠️：这里是 Optional可选的。也就是说，如果我们已经设置了共识全节点或验证者，我们就不再依赖RPC URL同Celestia 网络进行交互。</p></blockquote><p><strong>注意</strong>：根据您选择的同步链状态的方式，这可能需要一些时间。</p><h4 id="更改你的-client-toml-配置文件-optional" tabindex="-1">更改你的 client.toml 配置文件（Optional） <a class="header-anchor" href="#更改你的-client-toml-配置文件-optional" aria-label="Permalink to &quot;更改你的 client.toml 配置文件（Optional）&quot;">​</a></h4><p>通过修改 <code>client.toml</code> 配置文件，你可以在其中设置一些常用的参数。例如，你可以设置 链的ID 和 节点的RPC URL，从而避免在每个命令中重复指定这些参数，从而简化你的命令行操作。</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;"># This is a TOML config file.</span></span>
<span class="line"><span style="color:#A6ACCD;"># For more information, see https://github.com/toml-lang/toml</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">###############################################################################</span></span>
<span class="line"><span style="color:#A6ACCD;">###                           Client Configuration                            ###</span></span>
<span class="line"><span style="color:#A6ACCD;">###############################################################################</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"># The network chain ID</span></span>
<span class="line"><span style="color:#A6ACCD;">chain-id = &quot;mocha&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"># The keyring&#39;s backend, where the keys are stored (os|file|kwallet|pass|test|memory)</span></span>
<span class="line"><span style="color:#A6ACCD;">keyring-backend = &quot;test&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"># CLI output format (text|json)</span></span>
<span class="line"><span style="color:#A6ACCD;">output = &quot;text&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"># &lt;host&gt;:&lt;port&gt; to Tendermint RPC interface for this chain</span></span>
<span class="line"><span style="color:#A6ACCD;">node = &quot;tcp://rpc-mocha.pops.one:443&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"># Transaction broadcasting mode (sync|async|block)</span></span>
<span class="line"><span style="color:#A6ACCD;">broadcast-mode = &quot;sync&quot;</span></span></code></pre></div><p><strong>注意</strong>：并非所有的锁仓账户都可以通过单独的消息来创建。在Celestia网络中，有一些特殊类型的锁仓账户需要[在创世时进行设置（set at genesis）]，而无法通过普通的交易消息来创建。阅读更多：<a href="https://docs.cosmos.network/v0.46/modules/auth/05_vesting.html#note" target="_blank" rel="noreferrer">Vesting, Cosmos SDK</a></p><h3 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h3><p>读到这里，恭喜你完成了本教程！你已经学会了如何设置本地开发网络、在本地开发网络上创建锁仓账户，并在 Mocha Testnet 上创建锁仓账户。</p>`,105),p=[t];function o(c,i,r,d,C,u){return s(),e("div",null,p)}const y=a(l,[["render",o]]);export{h as __pageData,y as default};
